<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chord Progression Studio</title>
  <link rel="stylesheet" href="styles.css" />
  <meta name="color-scheme" content="dark" />
</head>
<body>
  <!-- Song Header -->
  <header class="app-header">
    <div class="song-info">
      <input id="songTitle" class="input song-input" data-field="title" placeholder="Song Title" aria-label="Song title" />
      <input id="songArtist" class="input song-input" data-field="artist" placeholder="Artist" aria-label="Artist" />
      
      <div class="controls-group">
        <label class="field">
          <span>Key</span>
          <select id="keySelect" class="select" data-field="key" aria-label="Key">
            <option value="C">C</option>
            <option value="C#">C#</option>
            <option value="Db">Db</option>
            <option value="D">D</option>
            <option value="D#">D#</option>
            <option value="Eb">Eb</option>
            <option value="E">E</option>
            <option value="F">F</option>
            <option value="F#">F#</option>
            <option value="Gb">Gb</option>
            <option value="G">G</option>
            <option value="G#">G#</option>
            <option value="Ab">Ab</option>
            <option value="A">A</option>
            <option value="A#">A#</option>
            <option value="Bb">Bb</option>
            <option value="B">B</option>
          </select>
        </label>
        
        <label class="field">
          <span>Display</span>
          <select id="displayMode" class="select" aria-label="Display mode">
            <option value="roman">Roman</option>
            <option value="absolute">Chord Names</option>
          </select>
        </label>
      </div>
    </div>
    
    <!-- Transport Controls -->
    <div class="transport">
      <button id="playBtn" class="btn btn-play" aria-label="Play" title="Play">▶</button>
      <button id="stopBtn" class="btn" aria-label="Stop" title="Stop">⏹</button>
      <label class="field">
        <span>BPM</span>
        <input id="bpmInput" type="number" class="input song-input" data-field="bpm" value="120" min="60" max="200" aria-label="BPM" />
      </label>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <div class="sections"></div>
    
    <!-- Add Section -->
    <div class="add-section-area">
      <button class="btn-add-section">
        <span class="add-icon">+</span>
        <span>Add Section</span>
      </button>
    </div>
  </main>

  <!-- Playhead -->
  <div id="playhead" class="playhead"></div>

  <!-- Context Menus -->
  <div id="chord-menu" class="context-menu" style="display: none;">
    <div class="menu-content">
      <h4>Choose Chord</h4>
      <div class="chord-grid">
        <button class="chord-btn" onclick="selectChord('I')">I</button>
        <button class="chord-btn" onclick="selectChord('ii')">ii</button>
        <button class="chord-btn" onclick="selectChord('iii')">iii</button>
        <button class="chord-btn" onclick="selectChord('IV')">IV</button>
        <button class="chord-btn" onclick="selectChord('V')">V</button>
        <button class="chord-btn" onclick="selectChord('vi')">vi</button>
        <button class="chord-btn" onclick="selectChord('vii°')">vii°</button>
      </div>
      
      <h4>Extensions</h4>
      <div class="extension-grid">
        <button class="ext-btn" onclick="selectExtension('7')">7</button>
        <button class="ext-btn" onclick="selectExtension('9')">9</button>
        <button class="ext-btn" onclick="selectExtension('11')">11</button>
        <button class="ext-btn" onclick="selectExtension('13')">13</button>
        <button class="ext-btn" onclick="selectExtension('maj7')">maj7</button>
        <button class="ext-btn" onclick="selectExtension('m7')">m7</button>
        <button class="ext-btn" onclick="selectExtension('sus2')">sus2</button>
        <button class="ext-btn" onclick="selectExtension('sus4')">sus4</button>
        <button class="ext-btn" onclick="selectExtension('add9')">add9</button>
        <button class="ext-btn" onclick="selectExtension('6')">6</button>
      </div>
      
      <div class="slash-section">
        <h4>Bass Note (Slash Chord)</h4>
        <div class="chord-grid">
          <button class="chord-btn" onclick="selectSlash('C')">C</button>
          <button class="chord-btn" onclick="selectSlash('D')">D</button>
          <button class="chord-btn" onclick="selectSlash('E')">E</button>
          <button class="chord-btn" onclick="selectSlash('F')">F</button>
          <button class="chord-btn" onclick="selectSlash('G')">G</button>
          <button class="chord-btn" onclick="selectSlash('A')">A</button>
          <button class="chord-btn" onclick="selectSlash('B')">B</button>
        </div>
      </div>
      
      <div class="menu-actions">
        <button class="btn btn-secondary" onclick="applyExtension()">Apply</button>
        <button class="btn" onclick="closeMenu()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <span class="hint">Left click: chord • Right click: extensions • Space: play/pause</span>
      <div class="footer-actions">
        <button class="btn btn-secondary btn-export">Export JSON</button>
        <button class="btn btn-secondary btn-import">Import JSON</button>
      </div>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
